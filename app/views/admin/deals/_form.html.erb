<div class = 'row' >
  <div class = "well col-lg-6 col-lg-offset-2">
    <%= nested_form_for [:admin, @deal], :html=> { class: 'form-horizontal' } do |f| %>
    <fieldset>
      <legend class="text-center"><h2>New Deal</h2></legend>
      <div class="form-group required">
        <%= f.label :title, 'Title:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.text_field :title, class: 'form-control', required: true %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :description, 'Description:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.text_area :description, class: 'form-control' %>
        </div>
      </div>
      <div class="form-group required">
        <%= f.label :category_id, 'Category:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.collection_select(:category_id, Category.all, :id, :name, { prompt: 'Choose a category' }, { required: true }) %>
        </div>
      </div>
      <div class="form-group required">
        <%= f.label :merchant_id, 'Merchant:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.collection_select(:merchant_id, Merchant.all, :id, :name, { prompt: 'Choose a category' }, { required: true }) %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :min_qty, 'Minimum quantity:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-5">
          <%= f.number_field :min_qty, class: 'form-control' %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :max_qty, 'Maximum quantity:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-5">
          <%= f.text_field :max_qty, class: 'form-control' %>
        </div>
      </div>
<% #FIXME_AB: country dropdown and convert revelent fields to number fields -%>      
      <div class="form-group">
        <%= f.label :start_time, 'Start Time:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.datetime_select :start_time, ampm: true, prompt: true, class: 'form-control' %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :expire_time, 'Expire Time:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <br>
          <%= f.datetime_select :expire_time, ampm: true, prompt: true, class: 'form-control' %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :price, 'Price:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-5">
          <%= f.text_field :price, class: 'form-control' %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :max_qty_per_customer, 'Max. quantity per customer:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-5">
          <br>
          <%= f.text_field :max_qty_per_customer, class: 'form-control' %>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :instructions, 'Instructions to redeem:', class: 'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.text_area :instructions, class: 'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <%= f.fields_for :locations %>
        <%= f.link_to_add "Add Location", :locations, class: "btn btn-default pull-right" %>
      </div>
      <br>
      <div class="form-group">
        <div class="col-lg-10 col-lg-offset-5">
          <%= f.submit class: 'btn btn-primary' %>
        </div>
      </div>
    </fieldset>
    <% end %>
  </div>
</div>